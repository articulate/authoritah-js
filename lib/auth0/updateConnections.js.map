{"version":3,"sources":["../../src/auth0/updateConnections.js"],"names":[],"mappings":";;;;;kBAGwB,iB;;AAHxB;;;;AACA;;;;;;AAEe,SAAS,iBAAT,CAA2B,OAA3B,EAAoC;AAAA,MACzC,MADyC,GACuB,OADvB,CACzC,MADyC;AAAA,MACV,OADU,GACuB,OADvB,CACjC,IADiC,CACzB,WADyB,CACV,OADU;AAAA,MACU,MADV,GACuB,OADvB,CACG,GADH,CACU,MADV;;;AAGjD,MAAM,QAAQ,SAAR,KAAQ,CAAC,EAAD;AAAA,WAAQ,OAAO,qBAAP,EAA8B,EAA9B,CAAR;AAAA,GAAd;AACA,MAAM,SAAS,SAAT,MAAS,CAAC,UAAD;AAAA,WAAgB,OAAO,WAAP,CAAmB,MAAnB,CAA0B,gBAAE,IAAF,CAAO,CAAC,IAAD,CAAP,EAAe,UAAf,CAA1B,EAAsD,iCAAkB,QAAlB,EAA4B,UAA5B,CAAtD,CAAhB;AAAA,GAAf;AACA,MAAM,mBAAmB,gBAAE,QAAF,CAAW,KAAX,EAAkB,gBAAE,IAAF,CAAO,IAAP,CAAlB,EAAgC,MAAhC,CAAzB;;AAEA,SAAO,QAAQ,GAAR,CAAY,gBAAE,GAAF,CAAM,gBAAN,EAAwB,OAAxB,CAAZ,EACJ,IADI,CACC;AAAA,WAAK,OAAL;AAAA,GADD,CAAP;AAED","file":"updateConnections.js","sourcesContent":["import R from 'ramda'\nimport prepareConnection from './prepareConnection'\n\nexport default function updateConnections(context) {\n  const { client, diff: { connections: { changes } }, say: { notice } } = context;\n\n  const print = (id) => notice('Updated connection ', id);\n  const update = (connection) => client.connections.update(R.pick(['id'], connection), prepareConnection('update')(connection));\n  const updateConnection = R.composeP(print, R.prop('id'), update);\n\n  return Promise.all(R.map(updateConnection, changes))\n    .then(_ => context);\n}\n"]}