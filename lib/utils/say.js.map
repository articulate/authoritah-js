{"version":3,"sources":["../../src/utils/say.js"],"names":[],"mappings":";;;;;;;;kBAgBwB,G;;AAhBxB;;;;AACA;;;;AACA;;;;AAEA,IAAM,WAAW;AACf,SAAO,CAAE,QAAQ,KAAV,EAAiB,mBAAG,GAAH,CAAO,IAAxB,CADQ;AAEf,QAAM,CAAE,QAAQ,IAAV,EAAgB,mBAAG,MAAH,CAAU,MAA1B,CAFS;AAGf,MAAI,CAAE,QAAQ,GAAV,EAAe,mBAAG,KAAlB,CAHW;AAIf,UAAQ,CAAE,QAAQ,GAAV,EAAe,mBAAG,IAAlB,CAJO;AAKf,OAAK,CAAE,QAAQ,GAAV;AALU,CAAjB;;AAQA,IAAM,qBAAqB,SAArB,kBAAqB,CAAC,GAAD;AAAA,SAAS,mBAAQ,GAAR,EAAa,EAAE,QAAQ,KAAV,EAAb,CAAT;AAAA,CAA3B;AACA,IAAM,YAAY,gBAAE,MAAF,CAAS,gBAAE,EAAF,CAAK,MAAL,CAAT,EAAuB,gBAAE,QAAzB,EAAmC,kBAAnC,CAAlB;AACA,IAAM,UAAU,SAAV,OAAU;AAAA,oCAAI,GAAJ;AAAI,OAAJ;AAAA;;AAAA,SAAY,gBAAE,OAAF,CAAU,gBAAE,IAAF,CAAO,EAAP,CAAV,EAAsB,gBAAE,GAAF,CAAM,SAAN,CAAtB,EAAwC,GAAxC,CAAZ;AAAA,CAAhB;;AAEe,SAAS,GAAT,CAAa,OAAb,EAAsB;AACnC,MAAM,QAAQ,gBAAE,MAAF,CAAS,IAAT,EAAe,CAAC,QAAD,EAAW,OAAX,CAAf,EAAoC,OAApC,CAAd;;AAEA,SAAO,gBAAE,GAAF,CAAM,gBAAoB;AAAA;;AAAA,QAAlB,OAAkB;AAAA,QAAT,GAAS;;AAC/B,QAAM,aAAa,QAAQ,IAAR,CAAa,OAAb,CAAnB;;AAEA,QAAG,CAAC,GAAJ,EAAS;AAAE,aAAO,UAAP;AAAoB;;AAE/B,WAAO,QAAQ,gBAAE,OAAF,CAAU,UAAV,EAAsB,GAAtB,EAA2B,OAA3B,CAAR,GAA8C,UAArD;AACD,GANM,EAMJ,QANI,CAAP;AAOD","file":"say.js","sourcesContent":["import R from 'ramda'\nimport cl from 'cli-color'\nimport { inspect } from 'util'\n\nconst printers = {\n  error: [ console.error, cl.red.bold ],\n  warn: [ console.warn, cl.yellow.italic ],\n  ok: [ console.log, cl.green ],\n  notice: [ console.log, cl.cyan ],\n  say: [ console.log ],\n};\n\nconst colorlessInspector = (obj) => inspect(obj, { colors: false });\nconst doInspect = R.ifElse(R.is(String), R.identity, colorlessInspector);\nconst hydrate = (...msg) => R.compose(R.join(''), R.map(doInspect))(msg);\n\nexport default function say(options) {\n  const color = R.pathOr(true, ['parent', 'color'], options);\n\n  return R.map(([printer, fmt]) => {\n    const boundPrint = printer.bind(console);\n\n    if(!fmt) { return boundPrint; }\n\n    return color ? R.compose(boundPrint, fmt, hydrate) : boundPrint;\n  }, printers);\n}\n"]}