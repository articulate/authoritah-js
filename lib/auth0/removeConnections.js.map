{"version":3,"sources":["../../src/auth0/removeConnections.js"],"names":[],"mappings":";;;;;kBAEwB,iB;;AAFxB;;;;;;AAEe,SAAS,iBAAT,CAA2B,OAA3B,EAAoC;AAAA,MACzC,MADyC,GACqB,OADrB,CACzC,MADyC;AAAA,MACV,OADU,GACqB,OADrB,CACjC,IADiC,CACzB,WADyB,CACV,OADU;AAAA,MACU,IADV,GACqB,OADrB,CACG,GADH,CACU,IADV;;;AAGjD,MAAM,QAAQ,SAAR,KAAQ;AAAA,QAAS,EAAT,QAAG,IAAH;AAAA,WAAkB,6BAA2B,EAA3B,CAAlB;AAAA,GAAd;AACA,MAAM,SAAS,SAAT,MAAS,CAAC,IAAD,EAAU;AAAA,QACf,EADe,GACR,IADQ,CACf,EADe;;AAEvB,WAAO,WAAP,CAAmB,MAAnB,CAA0B,EAAE,MAAF,EAA1B;AACA,WAAO,IAAP;AACD,GAJD;AAKA,MAAM,mBAAmB,gBAAE,OAAF,CAAU,KAAV,EAAiB,MAAjB,CAAzB;;AAEA,SAAO,QAAQ,GAAR,CAAY,gBAAE,GAAF,CAAM,gBAAN,EAAwB,OAAxB,CAAZ,EACJ,IADI,CACC;AAAA,WAAK,OAAL;AAAA,GADD,CAAP;AAED","file":"removeConnections.js","sourcesContent":["import R from 'ramda'\n\nexport default function removeConnections(context) {\n  const { client, diff: { connections: { removes } }, say: { warn } } = context;\n\n  const print = ({ name: id }) => warn(`Removed connection ${id}`);\n  const remove = (conn) => {\n    const { id } = conn;\n    client.connections.delete({ id });\n    return conn;\n  };\n  const removeConnection = R.compose(print, remove);\n\n  return Promise.all(R.map(removeConnection, removes))\n    .then(_ => context);\n}\n"]}