{"version":3,"sources":["../../src/apply/index.js"],"names":[],"mappings":";;;;;kBAkBwB,K;;AAlBxB;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;;;AAGe,SAAS,KAAT,GAAgD;AAAA,MAAjC,QAAiC,yDAAxB,aAAwB;AAAA,MAAT,OAAS;;AAAA,aAC3C,mBAAI,OAAJ,CAD2C;;AAAA,MACrD,KADqD,QACrD,KADqD;;;AAG7D,SAAO,uBAAQ,OAAR,EACJ,IADI,CACC,4BAAa,QAAb,CADD,EAEJ,IAFI,wBAGJ,IAHI,uBAIJ,IAJI,6BAKJ,IALI,CAKC,oBAAK,OAAL,CALD,EAMJ,IANI,CAMC,oBAAK,aAAL,CAND,EAOJ,IAPI,wBAQJ,IARI,wBASJ,IATI,qBAUJ,IAVI,8BAWJ,IAXI,8BAYJ,IAZI,2BAaJ,KAbI,CAaE,KAbF,CAAP;AAcD","file":"index.js","sourcesContent":["import loadEnv from '../utils/loadEnv'\nimport say from '../utils/say'\n\nimport loadManifest from '../apply/loadManifest'\nimport setupClient from '../utils/setupClient'\nimport fetchRules from '../auth0/fetchRules'\nimport fetchConnections from '../auth0/fetchConnections'\nimport diff from './diff'\n\nimport addRules from '../auth0/addRules'\nimport updateRules from '../auth0/updateRules'\nimport removeRules from '../auth0/removeRules'\n\nimport addConnections from '../auth0/addConnections'\nimport updateConnections from '../auth0/updateConnections'\nimport removeConnections from '../auth0/removeConnections'\n\n\nexport default function index(filename='./auth0.yml', options) {\n  const { error } = say(options);\n\n  return loadEnv(options)\n    .then(loadManifest(filename))\n    .then(setupClient)\n    .then(fetchRules)\n    .then(fetchConnections)\n    .then(diff('rules'))\n    .then(diff('connections'))\n    .then(removeRules)\n    .then(updateRules)\n    .then(addRules)\n    .then(removeConnections)\n    .then(updateConnections)\n    .then(addConnections)\n    .catch(error);\n}\n"]}