{"version":3,"sources":["../../src/auth0/removeRules.js"],"names":[],"mappings":";;;;;kBAEwB,W;;AAFxB;;;;;;AAEe,SAAS,WAAT,CAAqB,OAArB,EAA8B;AAAA,MACnC,MADmC,GACqB,OADrB,CACnC,MADmC;AAAA,MACV,OADU,GACqB,OADrB,CAC3B,IAD2B,CACnB,KADmB,CACV,OADU;AAAA,MACU,IADV,GACqB,OADrB,CACG,GADH,CACU,IADV;;;AAG3C,MAAM,QAAQ,SAAR,KAAQ,CAAC,EAAD;AAAA,WAAQ,uBAAqB,EAArB,CAAR;AAAA,GAAd;AACA,MAAM,SAAS,SAAT,MAAS,CAAC,EAAD,EAAQ;AACrB,WAAO,KAAP,CAAa,MAAb,CAAoB,EAAE,MAAF,EAApB;AACA,WAAO,EAAP;AACD,GAHD;AAIA,MAAM,aAAa,gBAAE,OAAF,CAAU,KAAV,EAAiB,MAAjB,EAAyB,gBAAE,IAAF,CAAO,IAAP,CAAzB,CAAnB;;AAEA,SAAO,QAAQ,GAAR,CAAY,gBAAE,GAAF,CAAM,UAAN,EAAkB,OAAlB,CAAZ,EACJ,IADI,CACC;AAAA,WAAK,OAAL;AAAA,GADD,CAAP;AAED","file":"removeRules.js","sourcesContent":["import R from 'ramda'\n\nexport default function removeRules(context) {\n  const { client, diff: { rules: { removes } }, say: { warn } } = context;\n\n  const print = (id) => warn(`Removed rule ${id}`);\n  const remove = (id) => {\n    client.rules.delete({ id });\n    return id;\n  };\n  const removeRule = R.compose(print, remove, R.prop('id'));\n\n  return Promise.all(R.map(removeRule, removes))\n    .then(_ => context);\n}\n"]}