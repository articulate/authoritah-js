{"version":3,"sources":["../../src/auth0/removeConnections.js"],"names":[],"mappings":";;;;;kBAEwB,iB;;AAFxB;;;;;;AAEe,SAAS,iBAAT,CAA2B,OAA3B,EAAoC;AAAA,MACzC,MADyC,GACqB,OADrB,CACzC,MADyC;AAAA,MACV,OADU,GACqB,OADrB,CACjC,IADiC,CACzB,WADyB,CACV,OADU;AAAA,MACU,IADV,GACqB,OADrB,CACG,GADH,CACU,IADV;;;AAGjD,MAAM,QAAQ,SAAR,KAAQ;AAAA,QAAG,IAAH,QAAG,IAAH;AAAA,WAAc,6BAA2B,IAA3B,CAAd;AAAA,GAAd;AACA,MAAM,gBAAgB,SAAhB,aAAgB,CAAC,IAAD;AAAA,WAAU,OAAO,WAAP,CAAmB,MAAnB,CAA0B,EAAE,IAAI,KAAK,EAAX,EAA1B,EAA2C,IAA3C,CAAgD;AAAA,aAAK,IAAL;AAAA,KAAhD,CAAV;AAAA,GAAtB;AACA,MAAM,mBAAmB,gBAAE,QAAF,CAAW,KAAX,EAAkB,aAAlB,CAAzB;;AAEA,SAAO,QAAQ,GAAR,CAAY,gBAAE,GAAF,CAAM,gBAAN,EAAwB,OAAxB,CAAZ,EACJ,IADI,CACC;AAAA,WAAK,OAAL;AAAA,GADD,CAAP;AAED","file":"removeConnections.js","sourcesContent":["import R from 'ramda'\n\nexport default function removeConnections(context) {\n  const { client, diff: { connections: { removes } }, say: { warn } } = context;\n\n  const print = ({ name }) => warn(`Removed connection ${name}`);\n  const removeWrapper = (conn) => client.connections.delete({ id: conn.id }).then(_ => conn);\n  const removeConnection = R.composeP(print, removeWrapper);\n\n  return Promise.all(R.map(removeConnection, removes))\n    .then(_ => context);\n}\n"]}