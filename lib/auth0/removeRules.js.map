{"version":3,"sources":["../../src/auth0/removeRules.js"],"names":[],"mappings":";;;;;kBAEwB,W;;AAFxB;;;;;;AAEe,SAAS,WAAT,CAAqB,OAArB,EAA8B;AAAA,MACnC,MADmC,GACqB,OADrB,CACnC,MADmC;AAAA,MACV,OADU,GACqB,OADrB,CAC3B,IAD2B,CACnB,KADmB,CACV,OADU;AAAA,MACU,IADV,GACqB,OADrB,CACG,GADH,CACU,IADV;;;AAG3C,MAAM,QAAQ,SAAR,KAAQ;AAAA,QAAE,IAAF,QAAE,IAAF;AAAA,WAAY,uBAAqB,IAArB,CAAZ;AAAA,GAAd;AACA,MAAM,gBAAgB,SAAhB,aAAgB,CAAC,IAAD;AAAA,WAAU,OAAO,KAAP,CAAa,MAAb,CAAoB,KAAK,EAAzB,EAA6B,IAA7B,CAAkC;AAAA,aAAK,IAAL;AAAA,KAAlC,CAAV;AAAA,GAAtB;AACA,MAAM,aAAa,gBAAE,QAAF,CAAW,KAAX,EAAkB,aAAlB,CAAnB;;AAEA,SAAO,QAAQ,GAAR,CAAY,gBAAE,GAAF,CAAM,UAAN,EAAkB,OAAlB,CAAZ,EACJ,IADI,CACC;AAAA,WAAK,OAAL;AAAA,GADD,CAAP;AAED","file":"removeRules.js","sourcesContent":["import R from 'ramda'\n\nexport default function removeRules(context) {\n  const { client, diff: { rules: { removes } }, say: { warn } } = context;\n\n  const print = ({name}) => warn(`Removed rule ${name}`);\n  const removeWrapper = (rule) => client.rules.delete(rule.id).then(_ => rule);\n  const removeRule = R.composeP(print, removeWrapper);\n\n  return Promise.all(R.map(removeRule, removes))\n    .then(_ => context);\n}\n"]}