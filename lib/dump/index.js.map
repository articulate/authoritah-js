{"version":3,"sources":["../../src/dump/index.js"],"names":[],"mappings":";;;;;kBAawB,K;;AAbxB;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEe,SAAS,KAAT,CAAe,QAAf,EAAyB,OAAzB,EAAkC;AAAA,MACvC,MADuC,GAC5B,OAD4B,CACvC,MADuC;;AAAA,aAEzB,mBAAI,OAAJ,CAFyB;;AAAA,MAEvC,KAFuC,QAEvC,KAFuC;AAAA,MAEhC,EAFgC,QAEhC,EAFgC;;;AAI/C,MAAM,MAAM,UAAU,MAAV,GAAmB,MAAnB,GAA4B,KAAxC;AACA,MAAM,WAAW,WAAW,QAAX,cAA+B,GAAhD;;AAEA,SAAO,uBAAQ,OAAR,EACJ,IADI,wBAEJ,IAFI,uBAGJ,IAHI,6BAIJ,IAJI,yBAKJ,IALI,sBAMJ,IANI,4BAOJ,IAPI,uCAQJ,IARI,CAQC,4BAAa,QAAb,CARD,EASJ,IATI,CASC,4BAA0B,QAA1B,CATD,EAUJ,KAVI,CAUE,KAVF,CAAP;AAWD","file":"index.js","sourcesContent":["import loadEnv from '../utils/loadEnv'\nimport setupClient from '../utils/setupClient'\nimport say from '../utils/say'\n\nimport fetchRules from '../auth0/fetchRules'\nimport fetchConnections from '../auth0/fetchConnections'\nimport fetchClients from '../auth0/fetchClients'\n\nimport associateClientConnections from './associateClientConnections'\nimport saveRules from './saveRules'\nimport saveConnections from './saveConnections'\nimport saveManifest from './saveManifest'\n\nexport default function index(filePath, options) {\n  const { format } = options;\n  const { error, ok } = say(options);\n\n  const ext = format == \"json\" ? \"json\" : \"yml\";\n  const filename = filePath ? filePath : `auth0.${ext}`;\n\n  return loadEnv(options)\n    .then(setupClient)\n    .then(fetchRules)\n    .then(fetchConnections)\n    .then(fetchClients)\n    .then(saveRules)\n    .then(saveConnections)\n    .then(associateClientConnections)\n    .then(saveManifest(filename))\n    .then(ok(`Manifest written to ${filename}`))\n    .catch(error);\n}\n"]}